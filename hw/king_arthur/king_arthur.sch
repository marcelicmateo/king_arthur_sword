EESchema Schematic File Version 4
EELAYER 30 0
EELAYER END
$Descr A4 11693 8268
encoding utf-8
Sheet 1 1
Title "King Arthur sword"
Date "2021-04-11"
Rev "1.2"
Comp "Mateo Marcelic"
Comment1 ""
Comment2 ""
Comment3 ""
Comment4 ""
$EndDescr
$Comp
L cus:GND #PWR04
U 1 1 605E2289
P 6550 3800
F 0 "#PWR04" H 6550 3550 50  0001 C CNN
F 1 "GND" H 6555 3627 50  0000 C CNN
F 2 "" H 6550 3800 50  0001 C CNN
F 3 "" H 6550 3800 50  0001 C CNN
	1    6550 3800
	1    0    0    -1  
$EndComp
Wire Wire Line
	6250 3750 6550 3750
Wire Wire Line
	6550 3750 6550 3800
NoConn ~ 6250 3850
NoConn ~ 6250 3950
NoConn ~ 6250 4050
NoConn ~ 6250 4150
NoConn ~ 6250 4250
NoConn ~ 6250 4350
NoConn ~ 6250 4450
NoConn ~ 6250 4550
NoConn ~ 6250 4650
NoConn ~ 6250 4750
NoConn ~ 6250 4850
NoConn ~ 6250 4950
NoConn ~ 6250 5050
NoConn ~ 4650 3750
NoConn ~ 4650 3850
NoConn ~ 4650 3950
NoConn ~ 4650 4050
NoConn ~ 4650 4650
NoConn ~ 4650 4750
NoConn ~ 4650 5050
Text Notes 4700 3100 0    59   ~ 0
#define PIR_SENSOR D7 // human sensor\n#define INFRARED_OBSTICLE_SENSOR D5 // sword sensor, inverted logic\n#define STEPER_MOTOR D6 // steper control\n\n#define PIN_IN D2\n#define PIN_OUT D1
$Comp
L ESP8266:NodeMCU_1.0_(ESP-12E) U2
U 1 1 605DF9BB
P 5450 4350
F 0 "U2" H 5450 3263 60  0000 C CNN
F 1 "NodeMCU_1.0_(ESP-12E)" H 5450 3369 60  0000 C CNN
F 2 "ESP8266:ESP12F-Devkit-V3" H 4850 3500 60  0001 C CNN
F 3 "" H 4850 3500 60  0000 C CNN
	1    5450 4350
	-1   0    0    1   
$EndComp
$Comp
L my:Logisshifter U1
U 1 1 605EAD08
P 3400 4200
F 0 "U1" V 3736 4475 59  0000 C CNN
F 1 "Logisshifter" V 3631 4475 59  0000 C CNN
F 2 "king_arthur:DIP-12_393_ELL" H 3400 4200 59  0001 C CNN
F 3 "" H 3400 4200 59  0001 C CNN
	1    3400 4200
	0    -1   -1   0   
$EndComp
Wire Wire Line
	4650 4450 4050 4450
Wire Wire Line
	4050 4450 4050 4350
Wire Wire Line
	4050 4350 3850 4350
Wire Wire Line
	3500 4450 3950 4450
Wire Wire Line
	3950 4450 3950 4500
Wire Wire Line
	3950 4500 4650 4500
Wire Wire Line
	4650 4500 4650 4550
NoConn ~ 3500 4250
NoConn ~ 2750 4250
$Comp
L cus:+5V #PWR06
U 1 1 605EEF21
P 2250 4500
F 0 "#PWR06" H 2250 4350 50  0001 C CNN
F 1 "+5V" H 2265 4673 50  0000 C CNN
F 2 "" H 2250 4500 50  0001 C CNN
F 3 "" H 2250 4500 50  0001 C CNN
	1    2250 4500
	-1   0    0    1   
$EndComp
$Comp
L cus:GND #PWR05
U 1 1 605EF757
P 2250 4300
F 0 "#PWR05" H 2250 4050 50  0001 C CNN
F 1 "GND" H 2255 4127 50  0000 C CNN
F 2 "" H 2250 4300 50  0001 C CNN
F 3 "" H 2250 4300 50  0001 C CNN
	1    2250 4300
	-1   0    0    1   
$EndComp
Wire Wire Line
	2250 4350 2750 4350
Wire Wire Line
	2750 4450 2250 4450
Wire Wire Line
	2250 4450 2250 4500
Wire Wire Line
	2250 4300 2250 4350
$Comp
L Connector:Conn_01x03_Female J2
U 1 1 605F4378
P 1000 5450
F 0 "J2" H 892 5125 50  0000 C CNN
F 1 "PIR sensor" H 892 5216 50  0000 C CNN
F 2 "Connector_JST:JST_EH_B3B-EH-A_1x03_P2.50mm_Vertical" H 1000 5450 50  0001 C CNN
F 3 "~" H 1000 5450 50  0001 C CNN
	1    1000 5450
	-1   0    0    1   
$EndComp
$Comp
L Connector:Conn_01x03_Female J3
U 1 1 605F7B6F
P 1000 6150
F 0 "J3" H 892 5825 50  0000 C CNN
F 1 "IR sensor" H 892 5916 50  0000 C CNN
F 2 "Connector_JST:JST_EH_B3B-EH-A_1x03_P2.50mm_Vertical" H 1000 6150 50  0001 C CNN
F 3 "~" H 1000 6150 50  0001 C CNN
	1    1000 6150
	-1   0    0    1   
$EndComp
$Comp
L Connector:Conn_01x03_Female J4
U 1 1 605F81A9
P 1000 6800
F 0 "J4" H 892 6475 50  0000 C CNN
F 1 "Servo motor" H 892 6566 50  0000 C CNN
F 2 "Connector_JST:JST_EH_B3B-EH-A_1x03_P2.50mm_Vertical" H 1000 6800 50  0001 C CNN
F 3 "~" H 1000 6800 50  0001 C CNN
	1    1000 6800
	-1   0    0    1   
$EndComp
Text GLabel 4650 4150 0    59   Input ~ 0
PIR
Text GLabel 4650 4350 0    59   Input ~ 0
IR
Text GLabel 2750 4150 0    59   Input ~ 0
Motor
Text GLabel 1200 6900 2    59   Input ~ 0
Motor
Text GLabel 1200 6250 2    59   Input ~ 0
IR
Text GLabel 1200 5450 2    59   Input ~ 0
PIR
$Comp
L cus:+5V #PWR011
U 1 1 605FDA7C
P 1700 6650
F 0 "#PWR011" H 1700 6500 50  0001 C CNN
F 1 "+5V" H 1715 6823 50  0000 C CNN
F 2 "" H 1700 6650 50  0001 C CNN
F 3 "" H 1700 6650 50  0001 C CNN
	1    1700 6650
	1    0    0    -1  
$EndComp
$Comp
L cus:+5V #PWR09
U 1 1 605FE208
P 1700 6050
F 0 "#PWR09" H 1700 5900 50  0001 C CNN
F 1 "+5V" H 1715 6223 50  0000 C CNN
F 2 "" H 1700 6050 50  0001 C CNN
F 3 "" H 1700 6050 50  0001 C CNN
	1    1700 6050
	1    0    0    -1  
$EndComp
$Comp
L cus:+5V #PWR07
U 1 1 605FE761
P 1700 5300
F 0 "#PWR07" H 1700 5150 50  0001 C CNN
F 1 "+5V" H 1715 5473 50  0000 C CNN
F 2 "" H 1700 5300 50  0001 C CNN
F 3 "" H 1700 5300 50  0001 C CNN
	1    1700 5300
	1    0    0    -1  
$EndComp
$Comp
L cus:GND #PWR012
U 1 1 605FEC8D
P 1700 6850
F 0 "#PWR012" H 1700 6600 50  0001 C CNN
F 1 "GND" H 1705 6677 50  0000 C CNN
F 2 "" H 1700 6850 50  0001 C CNN
F 3 "" H 1700 6850 50  0001 C CNN
	1    1700 6850
	1    0    0    -1  
$EndComp
$Comp
L cus:GND #PWR010
U 1 1 605FF115
P 1700 6200
F 0 "#PWR010" H 1700 5950 50  0001 C CNN
F 1 "GND" H 1705 6027 50  0000 C CNN
F 2 "" H 1700 6200 50  0001 C CNN
F 3 "" H 1700 6200 50  0001 C CNN
	1    1700 6200
	1    0    0    -1  
$EndComp
$Comp
L cus:GND #PWR08
U 1 1 605FF59E
P 1700 5550
F 0 "#PWR08" H 1700 5300 50  0001 C CNN
F 1 "GND" H 1705 5377 50  0000 C CNN
F 2 "" H 1700 5550 50  0001 C CNN
F 3 "" H 1700 5550 50  0001 C CNN
	1    1700 5550
	1    0    0    -1  
$EndComp
Wire Wire Line
	1200 5350 1700 5350
Wire Wire Line
	1700 5350 1700 5300
Wire Wire Line
	1700 5550 1200 5550
Wire Wire Line
	1200 6050 1700 6050
Wire Wire Line
	1700 6200 1700 6150
Wire Wire Line
	1700 6150 1200 6150
Wire Wire Line
	1200 6700 1700 6700
Wire Wire Line
	1700 6700 1700 6650
Wire Wire Line
	1700 6850 1700 6800
Wire Wire Line
	1700 6800 1200 6800
$Comp
L Connector:Conn_01x02_Female J1
U 1 1 6060FAA9
P 1350 1250
F 0 "J1" H 1242 925 50  0000 C CNN
F 1 "POWER " H 1242 1016 50  0000 C CNN
F 2 "Connector_JST:JST_EH_B2B-EH-A_1x02_P2.50mm_Vertical" H 1350 1250 50  0001 C CNN
F 3 "~" H 1350 1250 50  0001 C CNN
	1    1350 1250
	-1   0    0    1   
$EndComp
$Comp
L cus:+5V #PWR01
U 1 1 60611EB2
P 2200 1050
F 0 "#PWR01" H 2200 900 50  0001 C CNN
F 1 "+5V" H 2215 1223 50  0000 C CNN
F 2 "" H 2200 1050 50  0001 C CNN
F 3 "" H 2200 1050 50  0001 C CNN
	1    2200 1050
	1    0    0    -1  
$EndComp
$Comp
L cus:GND #PWR02
U 1 1 606123DA
P 2200 1350
F 0 "#PWR02" H 2200 1100 50  0001 C CNN
F 1 "GND" H 2205 1177 50  0000 C CNN
F 2 "" H 2200 1350 50  0001 C CNN
F 3 "" H 2200 1350 50  0001 C CNN
	1    2200 1350
	1    0    0    -1  
$EndComp
Wire Wire Line
	2200 1150 2200 1050
Wire Wire Line
	2200 1350 2200 1250
Wire Wire Line
	2200 1250 1700 1250
$Comp
L Connector:Conn_01x03_Female J5
U 1 1 6062B731
P 2600 6550
F 0 "J5" H 2492 6225 50  0000 C CNN
F 1 "Motor state - unlock/lock" H 1800 6900 50  0000 C CNN
F 2 "Connector_JST:JST_EH_B3B-EH-A_1x03_P2.50mm_Vertical" H 2600 6550 50  0001 C CNN
F 3 "~" H 2600 6550 50  0001 C CNN
	1    2600 6550
	-1   0    0    1   
$EndComp
Wire Wire Line
	2800 6550 3350 6550
Text GLabel 4650 4850 0    59   Input ~ 0
PIN_IN
Text GLabel 4650 4950 0    59   Input ~ 0
PIN_OUT
Text GLabel 2800 6450 2    59   Input ~ 0
PIN_IN
Text GLabel 2800 6650 2    59   Input ~ 0
PIN_OUT
Wire Wire Line
	6550 3600 6550 3650
$Comp
L cus:+5V #PWR03
U 1 1 605E2DCB
P 6550 3600
F 0 "#PWR03" H 6550 3450 50  0001 C CNN
F 1 "+5V" H 6565 3773 50  0000 C CNN
F 2 "" H 6550 3600 50  0001 C CNN
F 3 "" H 6550 3600 50  0001 C CNN
	1    6550 3600
	1    0    0    -1  
$EndComp
Wire Wire Line
	6550 3650 6250 3650
$Comp
L Device:D D1
U 1 1 605F67F1
P 1900 1150
F 0 "D1" H 1900 933 50  0000 C CNN
F 1 "D" H 1900 1024 50  0000 C CNN
F 2 "Diode_THT:D_DO-41_SOD81_P12.70mm_Horizontal" H 1900 1150 50  0001 C CNN
F 3 "~" H 1900 1150 50  0001 C CNN
	1    1900 1150
	-1   0    0    1   
$EndComp
Wire Wire Line
	2050 1150 2200 1150
Wire Wire Line
	4650 4250 3750 4250
Wire Wire Line
	3750 4250 3750 4150
Wire Wire Line
	3750 4150 3500 4150
NoConn ~ 2750 4550
NoConn ~ 2750 4650
NoConn ~ 3500 4650
NoConn ~ 3500 4550
$Comp
L Mechanical:MountingHole_Pad H1
U 1 1 60779A66
P 10250 1200
F 0 "H1" V 10204 1350 50  0000 L CNN
F 1 "MountingHole_Pad" V 10295 1350 50  0000 L CNN
F 2 "MountingHole:MountingHole_3.2mm_M3_Pad_Via" H 10250 1200 50  0001 C CNN
F 3 "~" H 10250 1200 50  0001 C CNN
	1    10250 1200
	0    1    1    0   
$EndComp
$Comp
L Mechanical:MountingHole_Pad H2
U 1 1 6077A825
P 10250 1500
F 0 "H2" V 10204 1650 50  0000 L CNN
F 1 "MountingHole_Pad" V 10295 1650 50  0000 L CNN
F 2 "MountingHole:MountingHole_3.2mm_M3_Pad_Via" H 10250 1500 50  0001 C CNN
F 3 "~" H 10250 1500 50  0001 C CNN
	1    10250 1500
	0    1    1    0   
$EndComp
$Comp
L Mechanical:MountingHole_Pad H3
U 1 1 6077CCD7
P 10250 1800
F 0 "H3" V 10204 1950 50  0000 L CNN
F 1 "MountingHole_Pad" V 10295 1950 50  0000 L CNN
F 2 "MountingHole:MountingHole_3.2mm_M3_Pad_Via" H 10250 1800 50  0001 C CNN
F 3 "~" H 10250 1800 50  0001 C CNN
	1    10250 1800
	0    1    1    0   
$EndComp
$Comp
L Mechanical:MountingHole_Pad H4
U 1 1 6077CE5D
P 10250 2100
F 0 "H4" V 10204 2250 50  0000 L CNN
F 1 "MountingHole_Pad" V 10295 2250 50  0000 L CNN
F 2 "MountingHole:MountingHole_3.2mm_M3_Pad_Via" H 10250 2100 50  0001 C CNN
F 3 "~" H 10250 2100 50  0001 C CNN
	1    10250 2100
	0    1    1    0   
$EndComp
Text Notes 8150 6950 0    79   ~ 0
PIR - for human motion detection\nIR  - for sword detection, if sword is in place\nPIN IN/OUT - motor lock/unlock position
$Comp
L power:+3V3 #PWR0101
U 1 1 6099100C
P 4500 3500
F 0 "#PWR0101" H 4500 3350 50  0001 C CNN
F 1 "+3V3" H 4515 3673 50  0000 C CNN
F 2 "" H 4500 3500 50  0001 C CNN
F 3 "" H 4500 3500 50  0001 C CNN
	1    4500 3500
	1    0    0    -1  
$EndComp
Wire Wire Line
	4500 3500 4500 3650
Wire Wire Line
	4500 3650 4650 3650
$Comp
L power:+3V3 #PWR0102
U 1 1 609920CA
P 3350 6400
F 0 "#PWR0102" H 3350 6250 50  0001 C CNN
F 1 "+3V3" H 3365 6573 50  0000 C CNN
F 2 "" H 3350 6400 50  0001 C CNN
F 3 "" H 3350 6400 50  0001 C CNN
	1    3350 6400
	1    0    0    -1  
$EndComp
Wire Wire Line
	3350 6400 3350 6550
$Comp
L power:PWR_FLAG #FLG0101
U 1 1 60993B61
P 2200 1150
F 0 "#FLG0101" H 2200 1225 50  0001 C CNN
F 1 "PWR_FLAG" V 2200 1278 50  0000 L CNN
F 2 "" H 2200 1150 50  0001 C CNN
F 3 "~" H 2200 1150 50  0001 C CNN
	1    2200 1150
	0    1    1    0   
$EndComp
$Comp
L power:PWR_FLAG #FLG0102
U 1 1 609941C4
P 1700 1250
F 0 "#FLG0102" H 1700 1325 50  0001 C CNN
F 1 "PWR_FLAG" H 1700 1423 50  0000 C CNN
F 2 "" H 1700 1250 50  0001 C CNN
F 3 "~" H 1700 1250 50  0001 C CNN
	1    1700 1250
	-1   0    0    1   
$EndComp
Connection ~ 1700 1250
Wire Wire Line
	1700 1250 1550 1250
$Comp
L cus:GND #PWR0103
U 1 1 60994B8B
P 10000 2200
F 0 "#PWR0103" H 10000 1950 50  0001 C CNN
F 1 "GND" H 10005 2027 50  0000 C CNN
F 2 "" H 10000 2200 50  0001 C CNN
F 3 "" H 10000 2200 50  0001 C CNN
	1    10000 2200
	1    0    0    -1  
$EndComp
Wire Wire Line
	10150 1200 10000 1200
Wire Wire Line
	10000 1200 10000 1500
Wire Wire Line
	10150 2100 10000 2100
Connection ~ 10000 2100
Wire Wire Line
	10000 2100 10000 2200
Wire Wire Line
	10150 1800 10000 1800
Connection ~ 10000 1800
Wire Wire Line
	10000 1800 10000 2100
Wire Wire Line
	10000 1500 10150 1500
Connection ~ 10000 1500
Wire Wire Line
	10000 1500 10000 1800
Connection ~ 2200 1150
Wire Wire Line
	1550 1150 1750 1150
$Comp
L cus:GND #PWR0104
U 1 1 60999573
P 3850 4650
F 0 "#PWR0104" H 3850 4400 50  0001 C CNN
F 1 "GND" H 3855 4477 50  0000 C CNN
F 2 "" H 3850 4650 50  0001 C CNN
F 3 "" H 3850 4650 50  0001 C CNN
	1    3850 4650
	1    0    0    -1  
$EndComp
Wire Wire Line
	3850 4350 3850 4650
Connection ~ 3850 4350
Wire Wire Line
	3850 4350 3500 4350
$EndSCHEMATC
